# Nemo config file
# YAML format (use null to return None in Python)

# Valid units are uK or Jy/sr
# this should be a list of maps at different frequencies
# NOTE: surveyMask is optional

unfilteredMaps:
    - {mapFileName: 'mapfile',
       weightsFileName: 'weightfile',
       obsFreqGHz: 'freq' , 'units': 'uK',
       beamFileName: 'beamfile',
       addNoise: null,
       RADecSection: null,
       pointSourceMask: null,
       surveyMask: null}

# MPI? Used only for tileDeck files (see examples/AdvACT)
useMPI: 'mpiswitch'

# Detection/catalog options
# Set useInterpolator: True for sub-pixel flux and SNR measurements
thresholdSigma: 'snr'
minObjPix: 1
rejectBorder: 10
useInterpolator: True
findCenterOfMass: True
objIdent: 'fileprefix'
longNames: False
catalogCuts: ['snr']
measureShapes: True

# tileDeck options - cut-up each map into smaller sections, store in a multi-extension .fits file
makeTileDeck: 'tileswitch'
tileOverlapDeg: 1.

# User-defined tiles
# These will automatically be expanded by tileOverlapDeg, i.e., don't need to handle overlaps here
tileDefinitions: null

# Corresponding regions in tiles to use for noise part of matched filter
# IF these are modified, tileDeck files will need to be re-made (delete them and rerun nemo)
# Format for each entry: tileName: [RAMin, RAMax, decMin, decMax]
# If no entry is given, the area of the tile minus autoBorderDeg will be used
$noise_tiles

# Filter definitions
mapFilters:
    - {label: "Beam",
       class: "BeamRealSpaceMatchedFilter",
       params: {noiseParams: {method: "max(dataMap,CMB)",
                              matchedFilterClass: 'BeamMatchedFilter',
                              RADecSection: 'noise_tiles_setting',
                              kernelMaxArcmin: 7.,
                              symmetrize: False,
                              noiseGridArcmin: 20.},
                              #saveHighPassMap: False,
                              #saveRMSMap: False},
                bckSub: True,
                outputUnits: 'uK'}}
